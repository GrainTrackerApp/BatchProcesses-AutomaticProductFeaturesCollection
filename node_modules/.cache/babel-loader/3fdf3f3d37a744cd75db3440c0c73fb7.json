{"ast":null,"code":"import _regeneratorRuntime from\"/Users/muhamedjaber/Desktop/Test/Lehrprojekt_21-22/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/muhamedjaber/Desktop/Test/Lehrprojekt_21-22/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useCallback,useContext}from\"react\";import{withRouter,Redirect}from\"react-router\";import app from\"../../Firebase/firebase-config\";import{AuthContext}from\"../../Firebase/Auth.js\";import'./login.css';import App from\"../../App\";import Navbar from\"../../components/Navbar\";import Header from\"../../components/Header\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Login=function Login(_ref){var history=_ref.history;var handleLogin=useCallback(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var _event$target$element,email,password;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_event$target$element=event.target.elements,email=_event$target$element.email,password=_event$target$element.password;_context.prev=2;_context.next=5;return app.auth().signInWithEmailAndPassword(email.value,password.value);case 5:App.currentUserName=email.value;history.push(\"/menu\");_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](2);alert(_context.t0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[2,9]]);}));return function(_x){return _ref2.apply(this,arguments);};}(),[history]);//currentUser = useContext(AuthContext);\n//  if (App.currentUserName != undefined) {\n//User ist eingeloggt }\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{class:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"center\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Log in\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,children:[/*#__PURE__*/_jsxs(\"div\",{class:\"form\",children:[/*#__PURE__*/_jsx(\"label\",{class:\"label\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{name:\"email\",type:\"email\",placeholder:\"Email\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{class:\"label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{name:\"password\",type:\"password\",placeholder:\"Password\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Log in\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"a\",{href:\"/signup\",class:\"button\",children:\"Sign up\"})]})})]});};export default withRouter(Login);","map":{"version":3,"sources":["/Users/muhamedjaber/Desktop/Test/Lehrprojekt_21-22/src/pages/Login/Login.js"],"names":["React","useCallback","useContext","withRouter","Redirect","app","AuthContext","App","Navbar","Header","Login","history","handleLogin","event","preventDefault","target","elements","email","password","auth","signInWithEmailAndPassword","value","currentUserName","push","alert"],"mappings":"+UAAA,MAAOA,CAAAA,KAAP,EAAeC,WAAf,CAA4BC,UAA5B,KAA6C,OAA7C,CACA,OAASC,UAAT,CAAqBC,QAArB,KAAoC,cAApC,CACA,MAAOC,CAAAA,GAAP,KAAgB,gCAAhB,CACA,OAAQC,WAAR,KAA0B,wBAA1B,CACA,MAAO,aAAP,CACA,MAAOC,CAAAA,GAAP,KAAgB,WAAhB,CACA,MAAOC,CAAAA,MAAP,KAAmB,yBAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,yBAAnB,C,6IAMA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,MAAiB,IAAdC,CAAAA,OAAc,MAAdA,OAAc,CAE3B,GAAMC,CAAAA,WAAW,CAAGX,WAAW,2FAC3B,iBAAMY,KAAN,2JACIA,KAAK,CAACC,cAAN,GADJ,sBAE8BD,KAAK,CAACE,MAAN,CAAaC,QAF3C,CAEWC,KAFX,uBAEWA,KAFX,CAEkBC,QAFlB,uBAEkBA,QAFlB,uCAIcb,CAAAA,GAAG,CACRc,IADK,GAELC,0BAFK,CAEsBH,KAAK,CAACI,KAF5B,CAEmCH,QAAQ,CAACG,KAF5C,CAJd,QAOQd,GAAG,CAACe,eAAJ,CAAsBL,KAAK,CAACI,KAA5B,CACAV,OAAO,CAACY,IAAR,CAAa,OAAb,EARR,+EAUQC,KAAK,aAAL,CAVR,oEAD2B,gEAc3B,CAACb,OAAD,CAd2B,CAA/B,CAgBA;AACE;AACM;AAMA,mBACE,wCACE,KAAC,MAAD,IADF,cAIE,YAAK,KAAK,CAAC,WAAX,uBACI,aAAK,KAAK,CAAC,QAAX,wBACA,8BADA,cAEA,cAAM,QAAQ,CAAEC,WAAhB,wBACI,aAAK,KAAK,CAAC,MAAX,wBACA,cAAO,KAAK,CAAC,OAAb,mBADA,cAIA,cAAO,IAAI,CAAC,OAAZ,CAAoB,IAAI,CAAC,OAAzB,CAAiC,WAAW,CAAC,OAA7C,EAJA,cAKA,aALA,cAKS,aALT,cAMA,cAAO,KAAK,CAAC,OAAb,sBANA,cAUA,cAAO,IAAI,CAAC,UAAZ,CAAuB,IAAI,CAAC,UAA5B,CAAuC,WAAW,CAAC,UAAnD,EAVA,GADJ,cAcI,eAAQ,IAAI,CAAC,QAAb,oBAdJ,GAFA,cAmBD,aAnBC,cAoBD,UAAG,IAAI,CAAC,SAAR,CAAkB,KAAK,CAAC,QAAxB,qBApBC,GADJ,EAJF,GADF,CAmCX,CA7DD,CAiEA,cAAeT,CAAAA,UAAU,CAACO,KAAD,CAAzB","sourcesContent":["import React, {useCallback, useContext} from \"react\";\nimport { withRouter, Redirect} from \"react-router\";\nimport app from \"../../Firebase/firebase-config\";\nimport {AuthContext} from \"../../Firebase/Auth.js\";\nimport './login.css';\nimport App from \"../../App\";\nimport Navbar from \"../../components/Navbar\";\nimport Header from \"../../components/Header\";\n\n \n\n\n\nconst Login = ({ history }) => {\n\n    const handleLogin = useCallback(\n        async event => {\n            event.preventDefault();\n            const {email, password} = event.target.elements;\n            try {\n                await app\n                .auth()\n                .signInWithEmailAndPassword(email.value, password.value);\n                App.currentUserName = email.value\n                history.push(\"/menu\");\n            } catch (error) {\n                alert(error);\n            }\n        },\n        [history]\n    );\n    //currentUser = useContext(AuthContext);\n      //  if (App.currentUserName != undefined) {\n            //User ist eingeloggt }\n\n           \n\n           \n      \n            return (\n              <>\n                <Header />\n             \n        \n                <div class=\"container\" >\n                    <div class=\"center\">\n                    <h1>Log in</h1>\n                    <form onSubmit={handleLogin}>\n                        <div class=\"form\">\n                        <label class=\"label\">\n                            Email \n                        </label>                    \n                        <input name=\"email\" type=\"email\" placeholder=\"Email\" />\n                        <br></br><br></br>\n                        <label class=\"label\">\n                            Password\n                        </label>\n                        \n                        <input name=\"password\" type=\"password\" placeholder=\"Password\"/>\n                        </div>\n        \n                        <button type=\"submit\">Log in</button>\n                       \n                   </form>\n                   <br></br>\n                   <a href=\"/signup\" class=\"button\">Sign up</a>\n        \n                   </div>\n                </div>\n        \n                </>\n            );\n\n        \n};\n\n\n\nexport default withRouter(Login);"]},"metadata":{},"sourceType":"module"}